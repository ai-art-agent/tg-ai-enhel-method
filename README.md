# Telegram-бот «ИИ-психолог» (DeepSeek)

Бот для Telegram с ответами на основе **DeepSeek** в роли поддерживающего «психолога»: выслушивает, поддерживает и мягко направляет к специалистам при необходимости.

## Быстрый старт

1. **Прочитайте пошаговую инструкцию** — [INSTRUCTIONS.md](INSTRUCTIONS.md). На каждом этапе есть вопросы: ответьте на них и при необходимости дополняйте настройки.

2. **Создайте бота в Telegram** (Этап 1), получите токен от [@BotFather](https://t.me/BotFather).

3. **Получите API-ключ DeepSeek** (Этап 2): [platform.deepseek.com](https://platform.deepseek.com) → API Keys.

4. **Создайте файл `.env`** в этой папке (скопируйте из `.env.example` и заполните):
   ```env
   TELEGRAM_BOT_TOKEN=ваш_токен
   DEEPSEEK_API_KEY=ваш_ключ
   ```

5. **Установите зависимости и запустите:**
   ```bash
   pip install -r requirements.txt
   python bot.py
   ```
   В Windows можно запускать двойным кликом по **start_bot.bat**.

Подробные шаги, уточняющие вопросы и настройка личности бота — в [INSTRUCTIONS.md](INSTRUCTIONS.md).

## Настройка поведения

В начале файла `bot.py` есть блок настроек (константы):

- **BOT_NAME**, **BOT_DESCRIPTION** — имя и описание бота.
- **SYSTEM_PROMPT** — системный промпт для DeepSeek (роль «психолога», ограничения).
- **DEEPSEEK_MODEL** — модель: `deepseek-chat` или `deepseek-reasoner`.
- **MAX_HISTORY_MESSAGES** — сколько последних пар сообщений хранить (0 = без истории).
- **MAX_RESPONSE_LENGTH** — макс. длина ответа в символах (0 = без лимита).
- **START_DISCLAIMER**, **SUPPORT_TEXT**, **PRIVACY_TEXT** — тексты для /start, /support, /privacy.
- **ALLOWED_USER_IDS** — список разрешённых user_id (пустой = доступ у всех).
- **LOG_TO_FILE** — писать ли логи в `bot.log`.

Меняйте их в соответствии с ответами из инструкции.

## Команды бота

| Команда   | Описание |
|-----------|----------|
| /start   | Приветствие и согласие (при необходимости) |
| /help    | Справка по командам |
| /support | Контакты поддержки (если заданы) |
| /privacy | Краткая политика конфиденциальности |

Под сообщением при /start есть кнопка **«Начать новый диалог»** — сброс контекста разговора.

## Требования

- Python 3.10+
- Токен Telegram-бота (от @BotFather)
- API-ключ DeepSeek (модель по умолчанию: **deepseek-chat**)

## Запуск

- **Терминал:** `python bot.py`
- **Windows:** двойной клик по `start_bot.bat`

Остановка: в терминале `Ctrl+C`.

После заполнения ответов в INSTRUCTIONS.md можно дополнительно адаптировать скрипт (например, голосовые сообщения, другой тон, другие контакты поддержки).
